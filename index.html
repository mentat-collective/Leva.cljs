<!DOCTYPE html>
<html><head><title>Leva.cljs</title><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1" name="viewport"><meta content="A Reagent interface to the Leva declarative GUI library." property="og:description"><meta content="Leva.cljs" property="og:title"><meta content="article:clerk" property="og:type"><meta content="summary_large_image" name="twitter:card"><script src="https://cdn.tailwindcss.com?plugins=typography" type="text/javascript"></script><script>tailwind.config = {
  darkMode: "class",
  content: ["./tw/viewer.js", "./tw/**/*.edn"],
  safelist: ['dark'],
  theme: {
    extend: {},
    fontFamily: {
      sans: ["Fira Sans", "-apple-system", "BlinkMacSystemFont", "sans-serif"],
      serif: ["PT Serif", "serif"],
      mono: ["Fira Mono", "monospace"]
    }
  },
  variants: {
    extend: {},
  },
  plugins: [],
}
</script><style type="text/tailwindcss">@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 18px;
  }
  @media (max-width: 600px) {
    html {
      font-size: 16px;
    }
  }
  .font-condensed { font-family: "Fira Sans Condensed", sans-serif; }
  .font-inter     { font-family: "Inter", sans-serif; }
  body {
    @apply font-serif antialiased text-gray-900 sm:overscroll-y-none;
  }
  code, .code {
    @apply font-mono text-sm text-gray-900 bg-slate-50 px-0.5 py-px rounded dark:bg-gray-800;
  }
  code::before, code::after { @apply content-none !important; }
  h1, h3, h4, h5, h6 {
    @apply font-condensed font-bold mt-8 first:mt-0;
  }
  h2 {
    /*We cannot collapse margins due to nesting but we want to*/
    /*keep the h2’s large margin visible*/
    @apply font-condensed font-bold mt-8 first:mt-2;
  }
  h1 { @apply text-4xl; }
  h2 { @apply text-3xl; }
  h3 { @apply text-2xl; }

  @media print {
      h1 { @apply text-2xl !important; }
      h2 { @apply text-xl !important; }
      h3 { @apply text-lg !important; }
  }
  
  button { @apply focus:outline-none; }
  strong { @apply font-bold; }
  em     { @apply italic; }
  pre    { @apply m-0 font-mono; }
}

/* Compatibility */
/* --------------------------------------------------------------- */
/* TODO: Verify which colors are in use and replace with Tailwind
   colors accordingly. Move Nj-specific styles out of here. */

:root {
  --teal-color: #31afd0;
  --dark-teal-color: #095960;
  --near-black-color: #2e2e2c;
  --red-color: #d64242;
  --dark-blue-color: #1f2937;
  --dark-blue-60-color: rgba(28, 42, 56, 0.6);
  --gray-panel-color: rgba(239, 241, 245, 1.000);
  --brand-color: var(--dark-blue-color);
  --link-color: #5046e4;
  --command-bar-selected-color: var(--teal-color);
}

.serif      { @apply font-serif; }
.sans-serif { @apply font-sans; }
.monospace  { @apply font-mono; }
.inter      { @apply font-inter; }

.border-color-teal { border-color: var(--dark-teal-color); }
.teal { color: var(--teal-color); }
.bg-dark-blue { background: var(--dark-blue-color); }
.bg-dark-blue-60 { background: rgba(28, 42, 56, 0.6); }
.bg-gray-panel { background: var(--gray-panel-color); }
.text-dark-blue  { color: var(--dark-blue-color); }
.text-dark-blue-60 { color: var(--dark-blue-60-color); }
.border-dark-blue-30 { border-color: rgba(28, 42, 56, 0.6); }
.text-brand { color: var(--dark-blue-color); }
.bg-brand { background: var(--dark-blue-color); }
.text-selected { color: white; }
.red { color: var(--red-color); }

/* Disclose Button */
/* --------------------------------------------------------------- */

.disclose {
  @apply content-none border-solid cursor-pointer inline-block relative mr-[3px] top-[-2px] transition-all;
  border-color: var(--near-black-color) transparent;
  border-width: 6px 4px 0;
}
.disclose:hover {
  border-color: var(--near-black-color) transparent;
}
.dark .disclose,
.dark .disclose:hover {
  border-color: white transparent;
}
.disclose.collapsed {
  @apply rotate-[-90deg];
}

/* Layout */
/* --------------------------------------------------------------- */

.page {
  @apply max-w-5xl mx-auto px-12 box-border flex-shrink-0;
}
.max-w-prose { @apply max-w-[46rem] !important; }
.max-w-wide  { @apply max-w-3xl !important; }

/* List Styles */
/* --------------------------------------------------------------- */

.task-list-item + .task-list-item,
.markdown-viewer ul ul {
  @apply mt-1 mb-0;
}

/* compact TOC */
.markdown-viewer .toc ul {
  list-style: none;
  @apply my-1;
}

/* Code Viewer */
/* --------------------------------------------------------------- */

.code-viewer {
  @apply font-mono bg-slate-100 rounded-sm text-sm overflow-x-auto dark:bg-gray-800;
}
.code-listing  {
    @apply -ml-8 -mr-8 relative !important;
}
.code-viewer .cm-content {
  @apply py-4 px-8;
}
@media (min-width: 960px){
    .notebook-viewer .code-viewer .cm-content {
        @apply py-4 pl-12;
    }
    .notebook-viewer .code-listing {
        width: 48rem !important;
        @apply -ml-12 mr-0 !important;
    }
}
/* Don’t show focus outline when double-clicking cell in Safari */
.cm-scroller { @apply focus:outline-none; }

/* Syntax Highlighting */
/* --------------------------------------------------------------- */

.inspected-value { @apply text-xs font-mono leading-[1.25rem]; }
.cmt-strong, .cmt-heading { @apply font-bold; }
.cmt-italic, .cmt-emphasis { @apply italic; }
.cmt-strikethrough { @apply line-through; }
.cmt-link { @apply underline; }
.untyped-value { @apply whitespace-nowrap; }

.cm-editor, .cmt-default, .result-viewer {
  @apply text-slate-800 dark:text-slate-300;
}
.cmt-keyword {
  @apply text-purple-800 dark:text-pink-400;
}
.cmt-atom, .cmt-bool, .cmt-url, .cmt-contentSeparator, .cmt-labelName {
  @apply text-blue-900 dark:text-blue-300;
}
.cmt-inserted, .cmt-literal {
  @apply text-emerald-700 dark:text-emerald-200;
}
.cmt-string, .cmt-deleted {
  @apply text-rose-700 dark:text-sky-300;
}
.cmt-italic.cmt-string {
  @apply dark:text-sky-200;
}
.cmt-regexp, .cmt-escape {
  @apply text-orange-500 dark:text-orange-300;
}
.cmt-variableName {
  @apply text-blue-800 dark:text-sky-300;
}
.cmt-typeName, .cmt-namespace {
  @apply text-emerald-600 dark:text-emerald-300;
}
.cmt-className {
  @apply text-teal-600 dark:text-teal-200;
}
.cmt-macroName {
  @apply text-teal-700 dark:text-teal-200;
}
.cmt-propertyName {
  @apply text-blue-700 dark:text-blue-200;
}
.cmt-comment {
  @apply text-slate-500 dark:text-slate-400;
}
.cmt-meta {
  @apply text-slate-600 dark:text-slate-400;
}
.cmt-invalid {
  @apply text-red-500 dark:text-red-300;
}

.result-data {
  @apply font-mono text-sm overflow-x-auto whitespace-nowrap leading-normal;
}
.result-data::-webkit-scrollbar, .path-nav::-webkit-scrollbar {
  @apply h-0;
}
.result-data-collapsed {
  @apply whitespace-nowrap;
}
.result-data-field {
  @apply ml-4 whitespace-nowrap;
}
.result-data-field-link{
  @apply ml-4 whitespace-nowrap cursor-pointer;
}
.result-data-field-link:hover {
  @apply text-black bg-black/5;
}
.result-text-empty {
  color: rgba(0,0,0,.3);
}
.browsify-button:hover {
  box-shadow: -2px 0 0 2px #edf2f7;
}

/* Prose */
/* --------------------------------------------------------------- */

.notebook-viewer,
.markdown-viewer {
  @apply prose
    dark:prose-invert
    prose-a:text-blue-600 prose-a:no-underline hover:prose-a:underline
    dark:prose-a:text-blue-300
    prose-p:mt-4 prose-p:leading-snug
    prose-ol:mt-4 prose-ol:mb-6 prose-ol:leading-snug
    prose-ul:mt-4 prose-ul:mb-6 prose-ul:leading-snug
    prose-blockquote:mt-4 prose-blockquote:leading-snug
    prose-hr:mt-6 prose-hr:border-t-2 prose-hr:border-solid prose-hr:border-slate-200
    prose-figure:mt-4
    prose-figcaption:mt-2 prose-figcaption:text-xs
    prose-headings:mb-4
    prose-table:mt-0
    prose-th:mb-0
    prose-img:my-0
    prose-code:font-medium prose-code:bg-slate-100
    max-w-none;
}
.markdown-viewer blockquote p:first-of-type:before,
.markdown-viewer blockquote p:last-of-type:after {
  @apply content-none;
}

/* Images */
/* --------------------------------------------------------------- */


/* Todo Lists */
/* --------------------------------------------------------------- */

.contains-task-list {
  @apply pl-6 list-none;
}
.contains-task-list input[type="checkbox"] {
  @apply appearance-none h-4 w-4 rounded border border-slate-200 relative mr-[0.3rem] ml-[-1.5rem] top-[0.15rem];
}
.contains-task-list input[type="checkbox"]:checked {
  @apply border-indigo-600 bg-indigo-600 bg-no-repeat bg-contain;
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

/* Markdown TOC */
/* --------------------------------------------------------------- */

.markdown-viewer .toc      { @apply mt-4; }
.markdown-viewer h1 + .toc { @apply mt-8; }

.markdown-viewer .toc h1,
.markdown-viewer .toc h2,
.markdown-viewer .toc h3,
.markdown-viewer .toc h4,
.markdown-viewer .toc h5,
.markdown-viewer .toc h6 {
  @apply text-base text-indigo-600 font-sans my-0;
}
.markdown-viewer .toc a {
  @apply text-indigo-600 font-normal no-underline hover:underline;
}
.markdown-viewer .toc li    { @apply m-0; }
.markdown-viewer .toc ul ul { @apply pl-4; }

/* Notebook Spacing */
/* --------------------------------------------------------------- */

.notebook-viewer { @apply py-16; }
#clerk-static-app .notebook-viewer { @apply pt-[0.8rem] pb-16; }
.markdown-viewer *:first-child:not(.code-viewer):not(li):not(h2):not(.sidenote) { @apply mt-0; }
/*.viewer + .viewer { @apply mt-6; }*/
.viewer + .result-viewer { @apply mt-0; }
.code-viewer + .result-viewer { @apply mt-3; }
.markdown-viewer + .markdown-viewer { @apply mt-0; }

/* Sidenotes */
/* --------------------------------------------------------------- */

.sidenote-ref {
  @apply top-[-0.5em] w-auto h-auto inline border-0 bg-transparent m-0 pointer-events-none;
}
.sidenote {
  @apply block font-sans text-xs mt-4 bg-slate-100 dark:bg-slate-800 p-4;
  font-style: normal;
  font-weight: normal;
}
.sidenote-container {
  @apply mb-4;
}
@media (min-width: 860px) {
  .sidenote sup { @apply inline; }
  .sidenote-column {
    @apply w-[165px] absolute right-0 top-0 -mr-[205px];
  }
  .sidenote {
    @apply bg-transparent dark:bg-transparent p-0;
  }
  .sidenote:first-child {
    @apply mt-1;
  }
  .sidenotes-layout .markdown-viewer {
    @apply pr-[205px];
  }
  .sidenote-container {
    @apply relative mb-0;
  }
  .sidenotes-layout h1 {
    @apply w-[756px] !important;
  }
}
.code-viewer + .viewer:not(.markdown-viewer):not(.code-viewer):not(.code-viewer-folded),
.code-viewer-folded + .viewer:not(.markdown-viewer):not(.code-viewer):not(.code-viewer-folded),
.result-viewer + .result-viewer {
  @apply mt-2;
}
.code-viewer + .code-viewer-folded {
  @apply mt-4;
}
.result-viewer {
  @apply leading-tight mb-6;
}
.result-viewer figure {
  @apply mt-0 !important;
}
@media (min-width: 768px) {
  .devcard-desc > div {
    @apply max-w-full m-0;
  }
}

/* Command Palette */
/* --------------------------------------------------------------- */

.nj-commands-input {
  @apply bg-transparent text-white;
}
.nj-context-menu-item:hover:not([disabled]) {
  @apply cursor-pointer;
  background-color: rgba(255,255,255,.14);
}

/* Devdocs */
/* --------------------------------------------------------------- */

.logo, .logo-white {
  @apply block indent-[-999em];
  background: url(/images/nextjournal-logo.svg) center center no-repeat;
}
.devdocs-body {
  @apply font-inter;
}

/* Workarounds */
/* --------------------------------------------------------------- */

/* Fixes vega viewer resizing into infinity */
.vega-embed .chart-wrapper { @apply h-auto !important; }
/* fixes fraction separators being overridden by tw’s border-color */
.katex * { @apply border-black; }

@media print {
    .dark-mode-toggle,
    .toc-toggle { @apply hidden; }
    .notebook-viewer { @apply pt-0; font-size: 12pt !important; margin-left: 0 !important; }
    .code-viewer .cm-content,
    .viewer-code .cm-content { @apply whitespace-pre-wrap !important; overflow: none; }
    .code-viewer .cm-line { font-size: 12pt !important; }
    html * { page-break-inside: avoid !important; }
    .toc-panel { @apply hidden; }
}
</style><script src="_data/8VwFpQ2FrHR6rWJdexVFVYxx7W6vkXfJ71JM4HP96GsR9k1sXTAk99UUppqGb8bVSNtemQwTVMxhJDTDZ3wVr3LDRV.js" type="module"></script><link href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://fonts.bunny.net" rel="preconnect"><link href="https://fonts.bunny.net/css?family=fira-mono:400,700%7Cfira-sans:400,400i,500,500i,700,700i%7Cfira-sans-condensed:700,700i%7Cpt-serif:400,400i,700,700i" rel="stylesheet" type="text/css"></head><body><div id="clerk-static-app"></div><script type="module">let state = "{:out-path \"public/build\", :path->doc {\"dev/leva/notebook.clj\" {:path [], :nextjournal/value {:toc {:type :toc, :children [{:type :toc, :content [{:type :text, :text \"Leva.cljs\"}], :heading-level 1, :attrs {:id \"leva.cljs\"}, :path [:content 0], :children [{:type :toc, :content [{:type :text, :text \"What is Leva?\"}], :heading-level 2, :attrs {:id \"what-is-leva?\"}, :path [:content 4]} {:type :toc, :content [{:type :text, :text \"Quickstart\"}], :heading-level 2, :attrs {:id \"quickstart\"}, :path [:content 8]} {:type :toc, :content [{:type :text, :text \"Guides\"}], :heading-level 2, :attrs {:id \"guides\"}, :path [:content 18], :children [{:type :toc, :content [{:type :text, :text \"Panel Configuration\"}], :heading-level 3, :attrs {:id \"panel-configuration\"}, :path [:content 21]} {:type :toc, :content [{:type :text, :text \"Adding More Inputs\"}], :heading-level 3, :attrs {:id \"adding-more-inputs\"}, :path [:content 25]} {:type :toc, :content [{:type :text, :text \"Schema\"}], :heading-level 3, :attrs {:id \"schema\"}, :path [:content 30]} {:type :toc, :content [{:type :text, :text \"SubPanel\"}], :heading-level 3, :attrs {:id \"subpanel\"}, :path [:content 35]} {:type :toc, :content [{:type :text, :text \"State Management\"}], :heading-level 3, :attrs {:id \"state-management\"}, :path [:content 40], :children [{:type :toc, :content [{:type :text, :text \"Syncing via Atom\"}], :heading-level 4, :attrs {:id \"syncing-via-atom\"}, :path [:content 42]} {:type :toc, :content [{:type :text, :text \"Explicit onChange\"}], :heading-level 4, :attrs {:id \"explicit-onchange\"}, :path [:content 46]}]} {:type :toc, :content [{:type :text, :text \"Standard Inputs\"}], :heading-level 3, :attrs {:id \"standard-inputs\"}, :path [:content 49], :children [{:type :toc, :content [{:type :text, :text \"Number\"}], :heading-level 4, :attrs {:id \"number\"}, :path [:content 53]} {:type :toc, :content [{:type :text, :text \"Boolean\"}], :heading-level 4, :attrs {:id \"boolean\"}, :path [:content 57]} {:type :toc, :content [{:type :text, :text \"String\"}], :heading-level 4, :attrs {:id \"string\"}, :path [:content 59]} {:type :toc, :content [{:type :text, :text \"Image / File Upload\"}], :heading-level 4, :attrs {:id \"image-/-file-upload\"}, :path [:content 61]} {:type :toc, :content [{:type :text, :text \"Color Picker\"}], :heading-level 4, :attrs {:id \"color-picker\"}, :path [:content 65]} {:type :toc, :content [{:type :text, :text \"2D Vector\"}], :heading-level 4, :attrs {:id \"2d-vector\"}, :path [:content 68]} {:type :toc, :content [{:type :text, :text \"3D Vector\"}], :heading-level 4, :attrs {:id \"3d-vector\"}, :path [:content 73]} {:type :toc, :content [{:type :text, :text \"Interval\"}], :heading-level 4, :attrs {:id \"interval\"}, :path [:content 76]} {:type :toc, :content [{:type :text, :text \"Select\"}], :heading-level 4, :attrs {:id \"select\"}, :path [:content 80]}]} {:type :toc, :content [{:type :text, :text \"Special Inputs\"}], :heading-level 3, :attrs {:id \"special-inputs\"}, :path [:content 85], :children [{:type :toc, :content [{:type :text, :text \"Folder\"}], :heading-level 4, :attrs {:id \"folder\"}, :path [:content 88]} {:type :toc, :content [{:type :text, :text \"Button\"}], :heading-level 4, :attrs {:id \"button\"}, :path [:content 90]} {:type :toc, :content [{:type :text, :text \"Button Group\"}], :heading-level 4, :attrs {:id \"button-group\"}, :path [:content 92]} {:type :toc, :content [{:type :text, :text \"Monitor\"}], :heading-level 4, :attrs {:id \"monitor\"}, :path [:content 95]}]} {:type :toc, :content [{:type :text, :text \"Custom Plugins\"}], :heading-level 3, :attrs {:id \"custom-plugins\"}, :path [:content 101], :children [{:type :toc, :content [{:type :text, :text \"Bezier curve\"}], :heading-level 4, :attrs {:id \"bezier-curve\"}, :path [:content 107]}]}]} {:type :toc, :content [{:type :text, :text \"Leva.cljs via SCI\"}], :heading-level 2, :attrs {:id \"leva.cljs-via-sci\"}, :path [:content 117]} {:type :toc, :content [{:type :text, :text \"Leva.cljs via Clerk\"}], :heading-level 2, :attrs {:id \"leva.cljs-via-clerk\"}, :path [:content 123]} {:type :toc, :content [{:type :text, :text \"Project Template\"}], :heading-level 2, :attrs {:id \"project-template\"}, :path [:content 127]} {:type :toc, :content [{:type :text, :text \"Advanced Guides\"}], :heading-level 2, :attrs {:id \"advanced-guides\"}, :path [:content 134], :children [{:type :toc, :content [{:type :text, :text \"Conditional toggling\"}], :heading-level 3, :attrs {:id \"conditional-toggling\"}, :path [:content 136]} {:type :toc, :content [{:type :text, :text \"Cursors for State\"}], :heading-level 3, :attrs {:id \"cursors-for-state\"}, :path [:content 139]} {:type :toc, :content [{:type :text, :text \"Input Ordering\"}], :heading-level 3, :attrs {:id \"input-ordering\"}, :path [:content 142]} {:type :toc, :content [{:type :text, :text \"Resources from Leva\"}], :heading-level 3, :attrs {:id \"resources-from-leva\"}, :path [:content 146], :children [{:type :toc, :content [{:type :text, :text \"Code Sandboxes\"}], :heading-level 4, :attrs {:id \"code-sandboxes\"}, :path [:content 150]}]}]} {:type :toc, :content [{:type :text, :text \"Who is using Leva.cljs?\"}], :heading-level 2, :attrs {:id \"who-is-using-leva.cljs?\"}, :path [:content 153]} {:type :toc, :content [{:type :text, :text \"Thanks and Support\"}], :heading-level 2, :attrs {:id \"thanks-and-support\"}, :path [:content 157]} {:type :toc, :content [{:type :text, :text \"License\"}], :heading-level 2, :attrs {:id \"license\"}, :path [:content 161]}]}]}, :sidenotes? false, :toc-visibility true, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns leva.notebook), :auto-expand-results? true, :scope leva.notebook, :bundle? false, :open-graph {:type \"article:clerk\", :title \"Leva.cljs\", :description \"A Reagent interface to the Leva declarative GUI library.\"}, :title \"Leva.cljs\", :blocks [{:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value #viewer-eval (clojure.core/binding [clojure.core/*ns* clojure.core/*ns*] (require (quote [leva.core :as leva])) (require (quote [reagent.core :as reagent]))), :nextjournal/viewer {:var-from-def? true, :render-fn #viewer-fn (fn [x opts] (if (nextjournal.clerk.render/reagent-atom? x) [nextjournal.clerk.render/render-tagged-value {:space? false} \"#object\" [nextjournal.clerk.render/inspect [(symbol (pr-str (type x))) (clojure.core/deref x)]]] [nextjournal.clerk.render/inspect x])), :nextjournal.clerk/remount \"5drqUWKPczHGmxCT1WtWnVEUJ6z8Cw\", :hash \"5dqxdWpNq2EHdfwMmFVjv8XZcXdg33\"}}, :nextjournal.clerk.viewer/viewer-eval-form (clojure.core/binding [clojure.core/*ns* clojure.core/*ns*] (require (quote [leva.core :as leva])) (require (quote [reagent.core :as reagent])))}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn (fn [_] [:<>]), :hash \"5ds2mGvrvNk7Cbsd66ZxWsbG6bXJDh\"}} {:nextjournal/value [:div.markdown-viewer [\"h1\" {:id \"leva.cljs\"} [:<> \"Leva.cljs\"]] [:p [:<> \"A \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent\"]] [:<> \" interface to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://github.com/pmndrs/leva/\"} [:<> \"Leva\"]] [:<> \" declarative GUI library.\"]] [:p [:a {:href \"https://github.com/mentat-collective/leva.cljs/actions/workflows/kondo.yml\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://github.com/mentat-collective/leva.cljs/actions/workflows/kondo.yml/badge.svg?branch=main\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/leva.cljs/blob/main/LICENSE\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/badge/license-MIT-brightgreen.svg\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://cljdoc.org/d/org.mentat/leva.cljs/CURRENT\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://cljdoc.org/badge/org.mentat/leva.cljs\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://clojars.org/org.mentat/leva.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/leva.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]]] [:blockquote [:p [:<> \"The interactive documentation on this page was generated\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"using \"] [:a {:href \"https://github.com/nextjournal/clerk\"} [:<> \"Clerk\"]] [:<> \". Follow\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://github.com/mentat-collective/leva.cljs/tree/main#interactive-documentation-via-clerk\"} [:<> \"instructions in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"README\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to run and modify this notebook on your machine!\"]] [:p [:<> \"See the \"] [:a {:href \"https://github.com/mentat-collective/leva.cljs\"} [:<> \"Github\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"project\"]] [:<> \" for more\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"details, and the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/leva.cljs/CURRENT/doc/readme\"} [:<> \"cljdoc\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"page\"]] [:<> \" for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"detailed API documentation.\"]]] [\"h2\" {:id \"what-is-leva?\"} [:<> \"What is Leva?\"]] [:p [:a {:href \"https://github.com/pmndrs/leva\"} [:<> \"Leva\"]] [:<> \" is a JavaScript library for building\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"declarative GUIs with many different input types, like the one hovering on\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the right side of this page. Supported inputs range from numeric sliders and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"color pickers to complex plugins like this \"] [:a {:href \"https://leva.pmnd.rs/?path=/story/plugins-bezier--default-bezier\"} [:<> \"Bezier curve\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"example\"]] [:<> \".\"]] [:p [:a {:href \"https://github.com/mentat-collective/leva.cljs\"} [:<> \"Leva.cljs\"]] [:<> \" extends Leva with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"a set of \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent\"]] [:<> \" components that make\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"it easy to synchronize the state of the GUI with a \"] [:a {:href \"https://clojure.org/reference/atoms\"} [:<> \"ClojureScript\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"atom\"]] [:<> \".\"]] [:p [:<> \"Think of your GUI like an interactive, beautiful view onto your page's state.\"]] [\"h2\" {:id \"quickstart\"} [:<> \"Quickstart\"]] [:p [:<> \"Install \"] [:code [:<> \"Leva.cljs\"]] [:<> \" into your Clojurescript project using the instructions at\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"its Clojars page:\"]] [:p [:a {:href \"https://clojars.org/org.mentat/leva.cljs\"} [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:img.inline {:src \"https://img.shields.io/clojars/v/org.mentat/leva.cljs.svg\", :alt \"\"}], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]]] [:p [:<> \"Or grab the most recent code using a Git dependency:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div.markdown-viewer [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"\\n{io.github.mentat-collective/leva.cljs\\n  {:git/sha \\\"6b9778fe752703929d07c41a64839e40245f3d2f\\\"}}\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Require \"] [:code [:<> \"leva.core\"]] [:<> \" in your ClojureScript namespace:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(ns my-app\\n  (:require [leva.core :as leva]\\n            [reagent.core :as reagent]))\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"Declare some state that you'd like to control with a GUI. Each entry's key\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"becomes its label, and Leva infers the correct input from the value's type.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defonce !synced\\n   (reagent/atom\\n    {:number 10\\n     :color {:r 10 :g 12 :b 4}\\n     :string \\\"Hi!\\\"\\n     :point {:x 1 :y 1}})))\", :nextjournal/opts {:loc {:line 79, :end-line 85, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (defonce !synced (reagent/atom {:number 10, :color {:r 10, :g 12, :b 4}, :string \"Hi!\", :point {:x 1, :y 1}})))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dtQr2cRhHoan1rDyk4oGtzBf3rMsP\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Pass the atom to the \"] [:code [:<> \"leva/Controls\"]] [:<> \" component via the \"] [:code [:<> \":atom\"]] [:<> \" key to add its\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"entries to the Leva panel hovering on the right, and bidirectionally bind its\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"state to the interactive state in the panel:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [leva/Controls\\n  {:folder {:name \\\"Quickstart\\\"}\\n   :atom !synced}])\", :nextjournal/opts {:loc {:line 91, :end-line 94, :column 1, :end-column 20}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [leva/Controls {:folder {:name \"Quickstart\"}, :atom !synced}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5drsXoJQmGTLdp1XsUG498dKJ7thp3\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Drag the control panel around to a more convenient place on the page, then\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"play around with the UI elements and watch the state change:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [nextjournal.clerk.viewer/inspect @!synced])\", :nextjournal/opts {:loc {:line 99, :end-line 100, :column 1, :end-column 46}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [nextjournal.clerk.viewer/inspect (clojure.core/deref !synced)])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5drA5HLXpR5UicTC9b3GVR1RcD4yt8\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"If you're not familiar with React or Reagent, or what a \\\"component\\\" is,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"please give the \"] [:a {:href \"https://reagent-project.github.io/\"} [:<> \"Reagent homepage\"]] [:<> \" a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"read. If this is your first Clojurescript experience, come say hi to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"me (@sritchie) in the \"] [:a {:href \"http://clojurians.net/\"} [:<> \"Clojurians Slack\"]] [:<> \" and I'll\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"get you started.\"]]] [\"h2\" {:id \"guides\"} [:<> \"Guides\"]] [:p [:<> \"Leva.cljs exposes three main components:\"]] [:ul [:li [:<> [:code [:<> \"leva/Config\"]] [:<> \", for configuring the global panel\"]]] [:li [:<> [:code [:<> \"leva/SubPanel\"]] [:<> \", for declaring separate panels with their own internal\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"stores\"]]] [:li [:<> [:code [:<> \"leva/Controls\"]] [:<> \", for adding inputs to either type of panel.\"]]]] [\"h3\" {:id \"panel-configuration\"} [:<> \"Panel Configuration\"]] [:p [:code [:<> \"leva/Config\"]] [:<> \" takes a map of options and applies them as settings to the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"global Leva panel. The following example sets the title of the panel and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"marks it as draggable (the default):\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [leva/Config\\n  {:titleBar\\n   {:drag true\\n    :title \\\"Drag Me!\\\"}}])\", :nextjournal/opts {:loc {:line 123, :end-line 127, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [leva/Config {:titleBar {:drag true, :title \"Drag Me!\"}}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dsTagiq37vVE9dbsNfDq8rp1j1k5A\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"See the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"type \"] [:a {:href \"https://github.com/pmndrs/leva/blob/main/packages/leva/src/components/Leva/LevaRoot.tsx#L13-L93\"} [:code [:<> \"LevaRootProps\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for a full list of available entries for \"] [:code [:<> \"opts\"]] [:<> \" and documentation for each.\"]] [:p [:<> \"You can place the \"] [:code [:<> \"leva/Config\"]] [:<> \" instance anywhere in your render tree, as it\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"won't actually insert anything visual into the DOM.\"]] [\"h3\" {:id \"adding-more-inputs\"} [:<> \"Adding More Inputs\"]] [:p [:<> \"The \"] [:code [:<> \"leva/Controls\"]] [:<> \" component in \"] [:a {:href \"#quickstart\"} [:<> \"Quickstart\"]] [:<> \" above added a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"number of inputs to the global panel. Successive \"] [:code [:<> \"leva/Controls\"]] [:<> \" instances\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"will append inputs to that panel while keeping the state separate for each\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"group of inputs.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!local (reagent/atom\\n            {:point [2 3 4]})]\\n   [:<>\\n    [leva/Controls\\n     {:folder {:name \\\"Adding More Inputs\\\"}\\n      :atom !local}]\\n    [:pre (str @!local)]]))\", :nextjournal/opts {:loc {:line 143, :end-line 151, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (reagent/with-let [!local (reagent/atom {:point [2 3 4]})] [:<> [leva/Controls {:folder {:name \"Adding More Inputs\"}, :atom !local}] [:pre (str (clojure.core/deref !local))]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dsAFB3XtxxENy9CWM8Lq2uv3KZVr7\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"See \"] [:a {:href \"#standard-inputs\"} [:<> \"Standard Inputs\"]] [:<> \" and \"] [:a {:href \"#special-inputs\"} [:<> \"Special\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Inputs\"]] [:<> \" below for a guide to all supported input types.\"]]] [:p [:<> \"Specifying the same folder name will append items to that folder:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!local (reagent/atom\\n            {:slider 10})]\\n   [:<>\\n    [leva/Controls\\n     {:folder {:name \\\"Adding More Inputs\\\"}\\n      :atom   !local\\n      :schema {:slider\\n               {:label \\\"Slide Me!\\\"\\n                :min 0 :max 12}}}]\\n    [:pre (str @!local)]]))\", :nextjournal/opts {:loc {:line 158, :end-line 169, :column 1, :end-column 28}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (reagent/with-let [!local (reagent/atom {:slider 10})] [:<> [leva/Controls {:folder {:name \"Adding More Inputs\"}, :atom !local, :schema {:slider {:label \"Slide Me!\", :min 0, :max 12}}}] [:pre (str (clojure.core/deref !local))]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5ds9MvpMchJFiaYheh65MAB8srD97F\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Note that both \"] [:code [:<> \":schema\"]] [:<> \" and \"] [:code [:<> \":atom\"]] [:<> \" here share a slider key. See the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"following section on \"] [:a {:href \"#schema\"} [:<> \"Schema\"]] [:<> \" for more detail.\"]] [\"h3\" {:id \"schema\"} [:<> \"Schema\"]] [:p [:<> \"The first examples added inputs via the \"] [:code [:<> \":atom\"]] [:<> \" key, but this most recent\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"example specified a \"] [:code [:<> \":schema\"]] [:<> \".\"]] [:p [:<> \"All input types support configuration options that don't belong in the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"synchronized state. Pass these to \"] [:code [:<> \"leva/Controls\"]] [:<> \" using the \"] [:code [:<> \":schema\"]] [:<> \" option.\"]] [:p [:<> \"If a key is present in both the \"] [:code [:<> \":atom\"]] [:<> \" and the \"] [:code [:<> \":schema\"]] [:<> \", the value in\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \":atom\"]] [:<> \" will win, but all settings from the \"] [:code [:<> \":schema\"]] [:<> \" will apply.\"]] [:p [:<> \"A schema entry with \"] [:em [:<> \"no\"]] [:<> \" corresponding \"] [:code [:<> \":atom\"]] [:<> \" entry will emit a warning if\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you don't provide an \"] [:code [:<> \":onChange\"]] [:<> \" handler to capture changes in the input's\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"value. See \"] [:a {:href \"#explicit-onchange\"} [:<> \"explicit onChange\"]] [:<> \" below for more detail.\"]] [\"h3\" {:id \"subpanel\"} [:<> \"SubPanel\"]] [:p [:code [:<> \"leva/SubPanel\"]] [:<> \" declares a separate local panel with its own internal store.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"These panels take the same options described in \"] [:a {:href \"#panel-configuration\"} [:<> \"Panel\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Configuration\"]] [:<> \".\"]] [:p [:<> \"By default, \"] [:code [:<> \"SubPanel\"]] [:<> \" instances will visually stack on top of the global\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"instance. Pass \"] [:code [:<> \":fill true\"]] [:<> \" to have the \"] [:code [:<> \"SubPanel\"]] [:<> \" instead stick to the page\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and fill its parent DOM element.\"]] [:p [:<> \"Any \"] [:code [:<> \"Controls\"]] [:<> \" instance nested as a child will render its controls into the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"SubPanel\"]] [:<> \" vs the global panel:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n  [leva/SubPanel {:fill true\\n                  :titleBar\\n                  {:drag false}}\\n   [leva/Controls\\n    {:schema {:color \\\"blue\\\"\\n              :range\\n              {:value [4 5] :min 0 :max 10}}}]]])\", :nextjournal/opts {:loc {:line 202, :end-line 210, :column 1, :end-column 50}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:schema {:color \"blue\", :range {:value [4 5], :min 0, :max 10}}}]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dsHt6vdAkEm1iZxoWfYb1C2c5JuJi\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"This example passes a \"] [:code [:<> \":schema\"]] [:<> \" with no \"] [:code [:<> \":atom\"]] [:<> \"! This is useful for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"visually prototyping a panel, but useless for getting any information out\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"of the panel. You'll see warnings in the terminal if you do this.\"]]] [\"h3\" {:id \"state-management\"} [:<> \"State Management\"]] [:p [:<> \"Leva panels can provide state updates either by binding to an atom or through\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"callbacks specified via \"] [:code [:<> \":onChange\"]] [:<> \" entries in the schema.\"]] [\"h4\" {:id \"syncing-via-atom\"} [:<> \"Syncing via Atom\"]] [:p [:<> \"As in \"] [:a {:href \"#quickstart\"} [:<> \"Quickstart\"]] [:<> \", if you configure a panel by passing an atom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to \"] [:code [:<> \"Controls\"]] [:<> \" via the \"] [:code [:<> \":atom\"]] [:<> \" key, Leva will generate input elements that\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"bind bi-directionally to your atom's state.\"]] [:p [:<> \"All of the examples above have used this style, as it's the most natural way\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to deal with state in a ClojureScript application.\"]] [:p [:<> \"If you change the atom's value from outside, the Leva panel will update. Play\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"with the slider below to change the \"] [:code [:<> \":number\"]] [:<> \" key specified\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in \"] [:a {:href \"#quickstart\"} [:<> \"Quickstart\"]] [:<> \" and watch the value in the global panel change.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Change the panel value and see the slider update.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [:<>\\n  [:input\\n   {:type :range :min 0 :max 10 :step 1\\n    :value (:number @!synced)\\n    :on-change\\n    (fn [target]\\n      (let [v (.. target -target -value)]\\n        (swap! !synced assoc :number (js/parseInt v))))}]\\n  [:pre (str @!synced)]])\", :nextjournal/opts {:loc {:line 235, :end-line 244, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [:<> [:input {:type :range, :min 0, :max 10, :step 1, :value (:number (clojure.core/deref !synced)), :on-change (fn [target] (let [v (.. target -target -value)] (swap! !synced assoc :number (js/parseInt v))))}] [:pre (str (clojure.core/deref !synced))]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dsU7jSTbZLyk8VkfhcQ4fwkb9Ngdk\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"explicit-onchange\"} [:<> \"Explicit onChange\"]] [:p [:<> \"You can also configure panel elements by providing \"] [:code [:<> \":value\"]] [:<> \" and \"] [:code [:<> \":onChange\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"entries in the \"] [:code [:<> \":schema\"]] [:<> \". This example provides an initial value for a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"range\"]] [:<> \" input via \"] [:code [:<> \":value\"]] [:<> \", and uses an \"] [:code [:<> \":onChange\"]] [:<> \" handler to store a string\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in a local reactive atom.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!local (reagent/atom \\\"Not yet set!\\\")]\\n   [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n    [leva/SubPanel {:fill true\\n                    :titleBar\\n                    {:drag false}}\\n     [leva/Controls\\n      {:schema\\n       {:range\\n        {:value [4 5]\\n         :min 0\\n         :max 10\\n         :onChange\\n         (fn [v]\\n           (reset! !local (str \\\"The range's value is \\\" (pr-str v) \\\".\\\")))}}}]]\\n    [:pre @!local]]))\", :nextjournal/opts {:loc {:line 253, :end-line 269, :column 1, :end-column 22}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (reagent/with-let [!local (reagent/atom \"Not yet set!\")] [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:schema {:range {:value [4 5], :min 0, :max 10, :onChange (fn [v] (reset! !local (str \"The range's value is \" (pr-str v) \".\")))}}}]] [:pre (clojure.core/deref !local)]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dtyWbbJ4QaBWJbSH6KVA6E8J28bcK\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"NOTE if your input type is a map, like a color specified via \"] [:code [:<> \"{:r <number> :g <number> :b <number>}\"]] [:<> \", add these entries directly to your\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"schema instead of nesting them under \"] [:code [:<> \":value\"]] [:<> \".\"]]] [\"h3\" {:id \"standard-inputs\"} [:<> \"Standard Inputs\"]] [:p [:<> \"This section contains usage examples for all of the standard inputs available\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to Leva. To tighten up the examples, we'll define a Reagent component here\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"that accepts an initial state and, optionally, a schema for customizing that\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"state.\"]] [:p [:<> \"The component will generate a subpanel pinned to the page.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (defn ControlDemo\\n   ([initial-state]\\n    (ControlDemo initial-state {}))\\n   ([initial-state schema]\\n    (reagent/with-let\\n      [!state (reagent/atom initial-state)]\\n      [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n       [leva/SubPanel {:fill true :titleBar {:drag false}}\\n        [leva/Controls\\n         {:atom !state\\n          :schema schema}]]\\n       [nextjournal.clerk.viewer/inspect @!state]]))))\", :nextjournal/opts {:loc {:line 284, :end-line 296, :column 1, :end-column 55}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (defn ControlDemo ([initial-state] (ControlDemo initial-state {})) ([initial-state schema] (reagent/with-let [!state (reagent/atom initial-state)] [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:atom !state, :schema schema}]] [nextjournal.clerk.viewer/inspect (clojure.core/deref !state)]]))))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dt6YUdDfDjzgapcPwBe6hC2rYe8Hk\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:blockquote [:p [:<> \"Some of the following examples show off inputs using \"] [:code [:<> \":schema\"]] [:<> \" entries only\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"without an associated \"] [:code [:<> \":atom\"]] [:<> \". This is just to keep the examples tighter.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"You'll want to use an \"] [:code [:<> \":atom\"]] [:<> \" or \"] [:code [:<> \":onChange\"]] [:<> \", as described above in \"] [:a {:href \"#state-management\"} [:<> \"State\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Management\"]] [:<> \".\"]]] [\"h4\" {:id \"number\"} [:<> \"Number\"]] [:p [:<> \"Adjust numerical inputs with the up/down arrow keys or by dragging on the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"small \\\"v\\\" icon on the left side of the input. Hold down the alt/option or\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"shift keys to slow or speed up the rate of change.\"]] [:p [:<> \"Providing an explicit \"] [:code [:<> \":step\"]] [:<> \" will override the auto-calculated step size.\"]] [:p [:<> \"The \"] [:code [:<> \":suffix\"]] [:<> \" option coerces the value to a string; the slider will change\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the value preceding the suffix inside the string.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [ControlDemo\\n  {:number 10\\n   :stepped 10\\n   :width \\\"10px\\\"}\\n\\n  {:stepped {:step 0.25}\\n   :width\\n   {:suffix \\\"px\\\"\\n    :label \\\"with suffix\\\"}}])\", :nextjournal/opts {:loc {:line 314, :end-line 323, :column 1, :end-column 29}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [ControlDemo {:number 10, :stepped 10, :width \"10px\"} {:stepped {:step 0.25}, :width {:suffix \"px\", :label \"with suffix\"}}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5drzBWBGvqkqFwc8ano7yGpFNfxk95\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"boolean\"} [:<> \"Boolean\"]] [:p [:<> \"Boolean values resolve to a toggle.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [ControlDemo\\n  {:checkbox true}])\", :nextjournal/opts {:loc {:line 329, :end-line 331, :column 1, :end-column 21}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [ControlDemo {:checkbox true}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dtFM5Kfq7cWvMTGscHAfreo4kesM2\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"string\"} [:<> \"String\"]] [:p [:<> \"String values generate text input fields. See the component below for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"explanations of the various customization options available.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [ControlDemo\\n  {:string \\\"Hit enter after editing!\\\"\\n   :multiple-lines \\\"Leva also supports <textarea/>\\\\nAllowing for\\\\nmultiple lines\\\"\\n   :fixed-rows \\\"You can specify the number of rows you need.\\\"\\n   :read-only \\\"This text is not editable but still supports\\\\nline\\\\nbreaks.\\\"}\\n\\n  {:string {:order -1}\\n   :multiple-lines {:rows true}\\n   :fixed-rows {:rows 3}\\n   :read-only {:editable false}}])\", :nextjournal/opts {:loc {:line 338, :end-line 348, :column 1, :end-column 35}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [ControlDemo {:string \"Hit enter after editing!\", :multiple-lines \"Leva also supports <textarea/>\\nAllowing for\\nmultiple lines\", :fixed-rows \"You can specify the number of rows you need.\", :read-only \"This text is not editable but still supports\\nline\\nbreaks.\"} {:string {:order -1}, :multiple-lines {:rows true}, :fixed-rows {:rows 3}, :read-only {:editable false}}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dqq9rEFPA275HipQPdL5nbNQS4J8R\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"image-/-file-upload\"} [:<> \"Image / File Upload\"]] [:p [:<> \"Setting a map-shaped value with an \"] [:code [:<> \":image\"]] [:<> \" key will insert a button that\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"triggers a file upload. Initialize your value with \"] [:code [:<> \"{:image nil}\"]] [:<> \".\"]] [:p [:<> \"On a successful upload, the value will change to \"] [:code [:<> \"{:image <blob-url>}\"]] [:<> \", where\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"blob-url\"]] [:<> \" is a \"] [:code [:<> \"URL\"]] [:<> \" that references\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"a \"] [:a {:href \"https://developer.mozilla.org/en-US/docs/Web/API/Blob/Blob\"} [:code [:<> \"Blob\"]]] [:<> \".\"]] [:p [:<> \"Upload an image below and see the resulting state and uploaded image appear\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"on the page.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!local (reagent/atom\\n            {:image {:image nil}})]\\n   [:div {:style {:width \\\"80%\\\" :margin \\\"auto\\\"}}\\n    [leva/SubPanel {:fill true :titleBar {:drag false}}\\n     [leva/Controls\\n      {:atom !local}]]\\n    [:pre (str @!local)]\\n    (if-let [image (:image @!local)]\\n      [:img {:src image\\n             :height \\\"300px\\\"}]\\n      [:p \\\"Upload an image to see it here!\\\"])]))\", :nextjournal/opts {:loc {:line 362, :end-line 374, :column 1, :end-column 49}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (reagent/with-let [!local (reagent/atom {:image {:image nil}})] [:div {:style {:width \"80%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:atom !local}]] [:pre (str (clojure.core/deref !local))] (if-let [image (:image (clojure.core/deref !local))] [:img {:src image, :height \"300px\"}] [:p \"Upload an image to see it here!\"])]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dsgAfqwh5KYHND9PQgRRBVr9mqYRN\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"color-picker\"} [:<> \"Color Picker\"]] [:p [:<> \"Leva provides many different ways to specify a color. All of these inputs\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"resolve to a color picker. Specifying an alpha channel will insert an extra\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"alpha slider at the bottom of the color picker.\"]] [:p [:<> \"Expand the state below the panel and adjust the pickers to see state updates\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for each color style.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [ControlDemo\\n  {:Name \\\"royalblue\\\"\\n   :Hex \\\"#9442ff\\\"\\n   :Hex8 \\\"#8b33ffaa\\\"\\n   :RgbString \\\"rgb(255, 47, 162)\\\"\\n   :RgbaString \\\"rgba(233, 30, 99, 0.9)\\\"\\n   :Rgb {:r 0 :g 150 :b 136 }\\n   :Rgba {:r 139 :g 195 :b 74 :a 0.5}\\n   :Hsl {:h 4 :s 90 :l 58}\\n   :Hsla {:h 36 :s 100 :l 50 :a 1}\\n   :HslString \\\"hsl(199, 98%, 48%)\\\"\\n   :HslaString \\\"hsla(187, 1%, 42%, 0.9)\\\"\\n   :Hsv { :h 238 :s 100 :v 70 }\\n   :Hsva { :h 58 :s 92 :v 100 :a 0.3 }}])\", :nextjournal/opts {:loc {:line 385, :end-line 399, :column 1, :end-column 42}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [ControlDemo {:Hsva {:h 58, :s 92, :v 100, :a 0.3}, :RgbString \"rgb(255, 47, 162)\", :RgbaString \"rgba(233, 30, 99, 0.9)\", :Hex8 \"#8b33ffaa\", :HslString \"hsl(199, 98%, 48%)\", :Rgba {:r 139, :g 195, :b 74, :a 0.5}, :HslaString \"hsla(187, 1%, 42%, 0.9)\", :Name \"royalblue\", :Hsla {:h 36, :s 100, :l 50, :a 1}, :Hsv {:h 238, :s 100, :v 70}, :Hsl {:h 4, :s 90, :l 58}, :Hex \"#9442ff\", :Rgb {:r 0, :g 150, :b 136}}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dsTFd5d5b9KWH9FDKB6u4XzZ9CW6B\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"2d-vector\"} [:<> \"2D Vector\"]] [:p [:<> \"Create a 2D vector input by specifying either a 2-element vector or map with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"two key-value pairs. Each coordinate has its own \"] [:a {:href \"#number\"} [:<> \"Number\"]] [:<> \"-style\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"input. The dot to the left of each coordinate is a joystick. Click and drag\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to open a small plane you can use to select both coordinates at once.\"]] [:blockquote [:p [:<> \"Due to Leva's \"] [:a {:href \"https://en.wikipedia.org/wiki/Duck_typing\"} [:<> \"duck typing\"]] [:<> \" of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"elements, be careful not to specify key names like \"] [:code [:<> \":image\"]] [:<> \", or else Leva\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"will ignore your second key-value pair and create an Image input.\"]]] [:p [:<> \"This example also shows how to configure either style of vector input by\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"removing its joystick, inverting the usual up-is-negative direction of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"y\"]] [:<> \" coordinate input, or adding an aspect ratio lock with \"] [:code [:<> \":lock true\"]] [:<> \".\"]] [:p [:<> \"With a locked vector, changing one coordinate with the slider will change the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"other coordinate's value to keep the same aspect ratio.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [ControlDemo\\n  {:vector-style [1 2]\\n   :map-style {:x 1 :y 2}\\n   :with-lock [1 2]\\n   :no-joystick [1 2]\\n   :inverted [1 2]}\\n\\n  {:vector-style {:order -2}\\n   :map-style {:order -1}\\n   :with-lock {:lock true}\\n   :no-joystick {:joystick false}\\n   :inverted {:joystick \\\"invertY\\\"}}])\", :nextjournal/opts {:loc {:line 419, :end-line 431, :column 1, :end-column 38}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [ControlDemo {:vector-style [1 2], :map-style {:x 1, :y 2}, :with-lock [1 2], :no-joystick [1 2], :inverted [1 2]} {:vector-style {:order -2}, :map-style {:order -1}, :with-lock {:lock true}, :no-joystick {:joystick false}, :inverted {:joystick \"invertY\"}}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5drgpdofxPGLyfZkBXdEh5E4H6Tgj3\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"3d-vector\"} [:<> \"3D Vector\"]] [:p [:<> \"Similar to \"] [:a {:href \"#2d-vector\"} [:<> \"2D vector\"]] [:<> \" with a third coordinate and no joystick.\"]] [:p [:<> \"When using the map form, make sure not to use a key named \"] [:code [:<> \":image\"]] [:<> \", or any of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the keysets from the \"] [:a {:href \"#color-picker\"} [:<> \"Color Picker\"]] [:<> \" input, like \"] [:code [:<> \":r\"]] [:<> \", \"] [:code [:<> \":g\"]] [:<> \" and\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \":b\"]] [:<> \".\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [ControlDemo\\n  {:vector-style [1 2 3]\\n   :map-style {:x 1 :y 2 :z 3}}])\", :nextjournal/opts {:loc {:line 441, :end-line 444, :column 1, :end-column 34}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [ControlDemo {:vector-style [1 2 3], :map-style {:x 1, :y 2, :z 3}}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5du5veC6zqmPziNJLG1R46PXJNc8VM\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"interval\"} [:<> \"Interval\"]] [:p [:<> \"An interval is defined with a 2-element vector, along with schema entries for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \":min\"]] [:<> \" and \"] [:code [:<> \":max\"]] [:<> \". (Without \"] [:code [:<> \":min\"]] [:<> \" and \"] [:code [:<> \":max\"]] [:<> \" Leva will infer a \"] [:a {:href \"#2d-vector\"} [:<> \"2D\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"vector\"]] [:<> \".)\"]] [:p [:<> \"Adjust either number with the slider, or type new values into the numeric\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"inputs.\"]] [:p [:<> \"Entering a value outside of \"] [:code [:<> \":min\"]] [:<> \" or \"] [:code [:<> \":max\"]] [:<> \" will truncate the value into the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"correct range.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [ControlDemo\\n  {:interval [1 2]}\\n\\n  {:interval\\n   {:min 0 :max 10}}])\", :nextjournal/opts {:loc {:line 458, :end-line 463, :column 1, :end-column 23}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [ControlDemo {:interval [1 2]} {:interval {:min 0, :max 10}}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dr34pzhKMci2vBmsaGfxKwau2xLzc\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"select\"} [:<> \"Select\"]] [:p [:<> \"The selector allows you to choose some predefined object from a dropdown of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"choices. Specify any object you like for your value, and provide a vector or\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"map of options via an \"] [:code [:<> \":options\"]] [:<> \" key in your schema.\"]] [:p [:<> \"If you provide a map, the keys will be used as labels and the values as your\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"choices. For a vector, the dropdown will use the string representations of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"each choice.\"]] [:p [:<> \"If your initial value is not present in \"] [:code [:<> \":choices\"]] [:<> \" it will be appended to the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"list of possible options.\"]] [:blockquote [:p [:<> \"Note that all non-function choices round-trip through Leva, so any Clojure\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"data type like a set or keyword won't survive. Keywords become strings,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"sets become vectors, etc.\"]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [ControlDemo\\n  {:selected-value \\\"cake\\\"\\n   :custom-labels \\\"hello\\\"}\\n\\n  {:selected-value\\n   {:options\\n    [\\\"cake\\\" \\\"bananas\\\" \\\"margarine\\\"]}\\n\\n   :custom-labels\\n   {:options\\n    {\\\"Hello World\\\" \\\"hello\\\"\\n     \\\"CAR and CDR\\\" \\\"lisp\\\"\\n     \\\"Vector\\\" [1 2]\\n     \\\"Function as Value\\\" (fn [] \\\"cake\\\")}}}])\", :nextjournal/opts {:loc {:line 483, :end-line 497, :column 1, :end-column 45}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [ControlDemo {:selected-value \"cake\", :custom-labels \"hello\"} {:selected-value {:options [\"cake\" \"bananas\" \"margarine\"]}, :custom-labels {:options {\"Hello World\" \"hello\", \"CAR and CDR\" \"lisp\", \"Vector\" [1 2], \"Function as Value\" (fn [] \"cake\")}}}])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dtYhiNCjX2SBJ2xRM93CHugPi7R4m\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"special-inputs\"} [:<> \"Special Inputs\"]] [:p [:<> \"Special inputs are panel elements like buttons or folders that aren't\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"typical \\\"inputs\\\" like those in \"] [:a {:href \"#standard-inputs\"} [:<> \"Standard Inputs\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"above.\"]] [:p [:<> \"These all come with special constructors\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in \"] [:a {:href \"https://github.com/mentat-collective/leva.cljs/blob/main/src/leva/core.cljs\"} [:code [:<> \"leva.core\"]]] [:<> \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"See\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/leva.cljs/blob/main/src/leva/core.cljs\"} [:<> \"these constructors in \"] [:code [:<> \"leva.core\"]]] [:<> \" for documentation.\"]] [\"h4\" {:id \"folder\"} [:<> \"Folder\"]] [:p [:code [:<> \"leva.core/folder\"]] [:<> \" takes a sub-schema and, optionally, a map of settings.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Items in the sub-schema will be nested in a folder with name equal to the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"folder's key in the schema.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n  [leva/SubPanel {:fill true :titleBar {:drag false}}\\n   [leva/Controls\\n    {:folder {:name \\\"Outer Folder\\\"}\\n     :schema\\n     {\\\"Yellow Subfolder\\\"\\n      (leva/folder\\n       {:button (leva/button\\n                 (fn []\\n                   (js/alert\\n                    \\\"Button pressed!\\\")))\\n        :group  (leva/button-group\\n                 {\\\"1px\\\" #(js/alert \\\"1px\\\")\\n                  \\\"2px\\\" #(js/alert \\\"2px\\\")})}\\n       {:color \\\"yellow\\\"})}}]]])\", :nextjournal/opts {:loc {:line 516, :end-line 531, :column 1, :end-column 32}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:folder {:name \"Outer Folder\"}, :schema {\"Yellow Subfolder\" (leva/folder {:button (leva/button (fn [] (js/alert \"Button pressed!\"))), :group (leva/button-group {\"1px\" (fn* [] (js/alert \"1px\")), \"2px\" (fn* [] (js/alert \"2px\"))})} {:color \"yellow\"})}}]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dt2aCaHtHjSE4SbfHzzT5xopdLPne\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"button\"} [:<> \"Button\"]] [:p [:code [:<> \"leva.core/button\"]] [:<> \" takes an \"] [:code [:<> \"on-click\"]] [:<> \" handler and an optional map of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"settings, and inserts a button into the schema labeled with the button's\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"schema key.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n  [leva/SubPanel {:fill true :titleBar {:drag false}}\\n   [leva/Controls\\n    {:schema\\n     {:button\\n      (leva/button\\n       (fn []\\n         (js/alert \\\"Button clicked!\\\")))}}]]])\", :nextjournal/opts {:loc {:line 539, :end-line 547, :column 1, :end-column 46}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:schema {:button (leva/button (fn [] (js/alert \"Button clicked!\")))}}]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dtMR5SLgRr6V8btknm1uqHHit9ZPm\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"button-group\"} [:<> \"Button Group\"]] [:p [:<> \"A Button group is a horizontal group of small buttons, each with an\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"associated \"] [:code [:<> \"on-click\"]] [:<> \" handler.\"]] [:p [:<> \"Define a button group by calling \"] [:code [:<> \"leva.core/button-group\"]] [:<> \" with a map of label\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"=> \"] [:code [:<> \"on-click\"]] [:<> \" (or, in the 2-arity case, a label and then the same map).\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!local (reagent/atom {:number 7})]\\n   [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n    [leva/SubPanel {:fill true :titleBar {:drag false}}\\n     [leva/Controls\\n      {:schema\\n       {:group\\n        (leva/button-group\\n         \\\"Meal Choice\\\"\\n         {\\\"Meat\\\" #(js/alert \\\"Meat!\\\")\\n          \\\"Potatoes\\\" #(js/alert \\\"Potatoes!\\\")\\n          \\\"Cabbage\\\" #(js/alert \\\"Cabbage!\\\")})}}]]]))\", :nextjournal/opts {:loc {:line 557, :end-line 569, :column 1, :end-column 52}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (reagent/with-let [!local (reagent/atom {:number 7})] [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:schema {:group (leva/button-group \"Meal Choice\" {\"Meat\" (fn* [] (js/alert \"Meat!\")), \"Potatoes\" (fn* [] (js/alert \"Potatoes!\")), \"Cabbage\" (fn* [] (js/alert \"Cabbage!\"))})}}]]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dsvSVMZWBHjGNhGA1NtH53KEjdj8e\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h4\" {:id \"monitor\"} [:<> \"Monitor\"]] [:p [:<> \"A monitor allows you to monitor repeated return values from some no-argument\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"function. Obviously the idea here is that this function internally queries\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"some other stateful value! Initialize a monitor by passing a no-arg function\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to \"] [:code [:<> \"leva.core/monitor\"]] [:<> \" along with (optionally) a map of settings.\"]] [:blockquote [:p [:<> \"Note that you can also pass a React \"] [:code [:<> \"MutableRefObject\"]] [:<> \" as returned\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"by \"] [:a {:href \"https://reactjs.org/docs/hooks-reference.html#useref\"} [:code [:<> \"useRef\"]]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"where \"] [:code [:<> \"(.-current ref)\"]] [:<> \" returns a number. The monitor will then monitor the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"value of the ref's \"] [:code [:<> \"current\"]] [:<> \" property.\"]]] [:p [:<> \"Supported settings are\"]] [:ul [:li [:<> [:code [:<> \":graph\"]] [:<> \": if \"] [:code [:<> \"true\"]] [:<> \", the returned monitor shows a graph. if \"] [:code [:<> \"false\"]] [:<> \", the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"monitor displays a number.\"]]] [:li [:<> [:code [:<> \":interval\"]] [:<> \": the number of milliseconds to wait between queries of the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"ref\"]] [:<> \" or function\"]]]] [:p [:<> \"Adjust the \"] [:code [:<> \":number\"]] [:<> \" slider below and watch the graphical output change:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!local (reagent/atom {:number 7})]\\n   [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n    [leva/SubPanel {:fill true :titleBar {:drag false}}\\n     [leva/Controls\\n      {:folder {:name \\\"Monitor Demo\\\"}\\n       :atom !local\\n       :schema\\n       {:number {:order -1}\\n        \\\"Number Monitor\\\"\\n        (leva/monitor\\n         (fn []\\n           (:number @!local))\\n         {:graph true\\n          :interval 30})}}]]]))\", :nextjournal/opts {:loc {:line 592, :end-line 607, :column 1, :end-column 32}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (reagent/with-let [!local (reagent/atom {:number 7})] [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:folder {:name \"Monitor Demo\"}, :atom !local, :schema {:number {:order -1}, \"Number Monitor\" (leva/monitor (fn [] (:number (clojure.core/deref !local))) {:graph true, :interval 30})}}]]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dqrPqDtkjoaxDAp4U9weYaxzGy3oF\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"custom-plugins\"} [:<> \"Custom Plugins\"]] [:p [:<> \"Leva is extensible, and has support for a number\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"of \"] [:a {:href \"https://github.com/pmndrs/leva/tree/main/packages\"} [:<> \"plugins\"]] [:<> \". Plugins by\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"default will \"] [:em [:<> \"not\"]] [:<> \" synchronize with your \"] [:code [:<> \":atom\"]] [:<> \"; you'll have to provide\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"an \"] [:a {:href \"#explicit-onchange\"} [:<> \"explicit onChange\"]] [:<> \" to capture state (which you can of\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"course \"] [:code [:<> \"swap!\"]] [:<> \" into an atom!)\"]] [:blockquote [:p [:<> \"Once \"] [:a {:href \"https://github.com/mentat-collective/leva.cljs/issues/2\"} [:<> \"this issue\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"is resolved this limitation will no longer exist.\"]]] [:p [:<> \"Leva comes bundled with the following plugins:\"]] [:ul [:li [:<> [:a {:href \"https://github.com/pmndrs/leva/tree/main/packages/plugin-bezier\"} [:<> \"Bezier curve\"]] [:<> \" (\"] [:a {:href \"(https://leva.pmnd.rs/?path=/story/plugins-bezier)\"} [:<> \"storybook examples\"]] [:<> \")\"]]] [:li [:<> [:a {:href \"https://github.com/pmndrs/leva/tree/main/packages/plugin-dates\"} [:<> \"Date picker\"]] [:<> \" (\"] [:a {:href \"(https://leva.pmnd.rs/?path=/story/plugins-dates)\"} [:<> \"storybook examples\"]] [:<> \")\"]]] [:li [:<> [:a {:href \"https://github.com/pmndrs/leva/tree/main/packages/plugin-plot\"} [:<> \"Function plotter\"]] [:<> \" (\"] [:a {:href \"(https://leva.pmnd.rs/?path=/story/plugins-plot)\"} [:<> \"storybook examples\"]] [:<> \")\"]]] [:li [:<> [:a {:href \"https://github.com/pmndrs/leva/tree/main/packages/plugin-sprin\"} [:<> \"Spring simulation\"]] [:<> \" (\"] [:a {:href \"(https://leva.pmnd.rs/?path=/story/plugins-spring)\"} [:<> \"storybook examples\"]] [:<> \")\"]]]] [:p [:<> \"The following demo shows off the Bezier curve plugin.\"]] [\"h4\" {:id \"bezier-curve\"} [:<> \"Bezier curve\"]] [:p [:<> \"First, install the plugin with:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"npm install @leva-ui/plugin-bezier\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:blockquote [:p [:<> \"See the links above for the package to install for your plugin of actual\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"interest.\"]]] [:p [:<> \"Then add the package to your namespace:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(ns my-app\\n  (:require [\\\"@leva-ui/plugin-bezier\\\" :as b]\\n            [leva.core :as leva]\\n            [reagent.core :as reagent]))\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"Each plugin exposes a function that you can use to generate a schema entry.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Because custom plugins can't (yet,\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"see \"] [:a {:href \"https://github.com/mentat-collective/leva.cljs/issues/2\"} [:<> \"##2\"]] [:<> \")\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"synchronize with your atom automatically, you'll need to provide an\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \":onChange\"]] [:<> \" function to retrieve new values.\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!local (reagent/atom nil)]\\n   [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n    [leva/SubPanel {:fill true :titleBar {:drag false}}\\n     [leva/Controls\\n      {:schema\\n       {:curve\\n        (b/bezier\\n         {:value    [0.54, 0.05, 0.6, 0.98]\\n          :onChange (fn [v] (reset! !local v))})}}]]\\n    [nextjournal.clerk.viewer/inspect @!local]]))\", :nextjournal/opts {:loc {:line 655, :end-line 666, :column 1, :end-column 50}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (reagent/with-let [!local (reagent/atom nil)] [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:schema {:curve (b/bezier {:value [0.54 0.05 0.6 0.98], :onChange (fn [v] (reset! !local v))})}}]] [nextjournal.clerk.viewer/inspect (clojure.core/deref !local)]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5duEvnaJBT28rhe5PnP2xL55zs8ePT\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"Supported options are the union\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"of \"] [:a {:href \"https://github.com/pmndrs/leva/blob/main/packages/leva/src/types/public.ts#L182-L188\"} [:code [:<> \"InputOptions\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"and any option mentioned in the plugin's documentation.\"]] [:p [:<> \"If documentation is poor, your best bet is to follow the \"] [:code [:<> \"storybook examples\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"link referenced above, and then track down the associated \"] [:code [:<> \"*.stories.tsx\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"file associated with the plugin to see what code generated the story.\"]] [:p [:<> \"Here is the source for the \"] [:a {:href \"https://github.com/pmndrs/leva/blob/main/packages/plugin-bezier/src/Bezier.stories.tsx\"} [:<> \"Bezier\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"stories\"]] [:<> \",\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for example.\"]] [\"h2\" {:id \"leva.cljs-via-sci\"} [:<> \"Leva.cljs via SCI\"]] [:p [:code [:<> \"Leva.cljs\"]] [:<> \" is compatible with \"] [:a {:href \"https://github.com/babashka/sci\"} [:<> \"SCI, the Small Clojure\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Interpreter\"]] [:<> \".\"]] [:p [:<> \"To install \"] [:code [:<> \"Leva.cljs\"]] [:<> \" into your SCI context, require\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/leva.cljs/CURRENT/api/leva.sci\"} [:code [:<> \"leva.sci\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"namespace and call \"] [:code [:<> \"leva.sci/install!\"]] [:<> \":\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"(ns myproject.sci-extensions\\n  (:require [leva.sci]))\\n\\n(leva.sci/install!)\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"If you want more granular control, see the \"] [:a {:href \"https://cljdoc.org/d/org.mentat/leva.cljs/CURRENT/api/leva.sci\"} [:<> \"cljdoc page for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"leva.sci\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for an SCI config and distinct SCI namespace objects that you can piece\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"together.\"]] [:blockquote [:p [:<> \"Note that \"] [:code [:<> \"Leva.cljs\"]] [:<> \" does not ship with a dependency on SCI, so you'll\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"need to install your own version.\"]]] [\"h2\" {:id \"leva.cljs-via-clerk\"} [:<> \"Leva.cljs via Clerk\"]] [:p [:<> \"Using \"] [:code [:<> \"Leva.cljs\"]] [:<> \" with Nextjournal's \"] [:a {:href \"https://clerk.vision/\"} [:<> \"Clerk\"]] [:<> \" gives you\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the ability to write notebooks like this one with embedded GUI controls.\"]] [:p [:<> \"Doing this requires that you generate a custom ClojureScript build for your\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"Clerk project. The easiest way to do this for an existing project is with\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"the \"] [:a {:href \"https://clerk-utils.mentat.org/\"} [:code [:<> \"clerk-utils\"]] [:<> \" project\"]] [:<> \". Follow the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"instructions on the \"] [:a {:href \"https://clerk-utils.mentat.org/#custom-clojurescript-builds\"} [:code [:<> \"clerk-utils\"]] [:<> \" guide for custom\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"ClojureScript\"]] [:<> \".\"]] [:p [:<> \"If this is your first time using Clerk, use the \"] [:a {:href \"#project-template\"} [:code [:<> \"leva/clerk\"]] [:<> \" template\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"described below\"]] [:<> \" to generate a new project with all steps\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"described in \"] [:a {:href \"#leva.cljs-via-sci\"} [:<> \"\\\"Leva.cljs via SCI\\\"\"]] [:<> \" already completed.\"]] [\"h2\" {:id \"project-template\"} [:<> \"Project Template\"]] [:p [:code [:<> \"Leva.cljs\"]] [:<> \" includes\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"a \"] [:a {:href \"https://github.com/seancorfield/deps-new\"} [:code [:<> \"deps-new\"]]] [:<> \" template called\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/clerk-utils/tree/main/resources/clerk_utils/custom\"} [:code [:<> \"leva/clerk\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"that makes it easy to configure a new Clerk project with everything described\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in \"] [:a {:href \"#leva.cljs-via-sci\"} [:<> \"\\\"Leva.cljs via SCI\\\"\"]] [:<> \" already configured.\"]] [:p [:<> \"First, install the \"] [:a {:href \"https://github.com/seancorfield/deps-new\"} [:code [:<> \"deps-new\"]]] [:<> \" tool:\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"clojure -Ttools install io.github.seancorfield/deps-new '{:git/tag \\\"v0.5.0\\\"}' :as new\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:p [:<> \"To create a new Clerk project based on\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:a {:href \"https://github.com/mentat-collective/leva.cljs/tree/main/resources/leva/clerk\"} [:code [:<> \"leva/clerk\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"in a folder called \"] [:code [:<> \"my-notebook-project\"]] [:<> \", run the following command:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value [:div.markdown-viewer [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:div.code-viewer.code-listing [#viewer-eval nextjournal.clerk.render/inspect-presented {:path (0), :nextjournal/value \"clojure -Sdeps '{:deps {io.github.mentat-collective/leva.cljs {:git/sha \\\"6b9778fe752703929d07c41a64839e40245f3d2f\\\"}}}' \\\\\\n-Tnew create \\\\\\n:template leva/clerk \\\\\\n:name myusername/my-notebook-project\", :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [:p [:<> \"The \"] [:a {:href \"http://README.md\"} [:<> \"README.md\"]] [:<> \" file in the generated project contains information on how to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"develop within the new project.\"]] [:p [:<> \"If you have an existing Clerk notebook project and are considering adding\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"Leva.cljs\"]] [:<> \", you might consider\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"using \"] [:a {:href \"https://github.com/mentat-collective/leva.cljs/tree/main/resources/leva/clerk\"} [:code [:<> \"leva/clerk\"]]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to get some ideas on how to structure your own project.\"]] [\"h2\" {:id \"advanced-guides\"} [:<> \"Advanced Guides\"]] [:p [:<> \"These guides cover usage patterns that don't fit with any particular input\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"type, but are useful to know about.\"]] [\"h3\" {:id \"conditional-toggling\"} [:<> \"Conditional toggling\"]] [:p [:<> \"All input elements support a \"] [:code [:<> \":render\"]] [:<> \" option. Provide a no-argument\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"function; if this function returns \"] [:code [:<> \"true\"]] [:<> \", the component will render. If\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \"false\"]] [:<> \", the component will remain hidden.\"]] [:p [:<> \"The following example conditionally shows a 2D vector input based on the\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"state of a checkbox:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!local (reagent/atom\\n            {:show true\\n             :point {:x 10 :y 12}})]\\n   [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n    [leva/SubPanel {:fill true\\n                    :titleBar\\n                    {:drag false}}\\n     [leva/Controls\\n      {:folder {:name \\\"Local State\\\"}\\n       :atom   !local\\n       :schema {:show\\n                {:label \\\"show point?\\\"}\\n                :point\\n                {:render\\n                 (fn [] (:show @!local))}}}]]\\n    [nextjournal.clerk.viewer/inspect @!local]]))\", :nextjournal/opts {:loc {:line 769, :end-line 786, :column 1, :end-column 50}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (reagent/with-let [!local (reagent/atom {:show true, :point {:x 10, :y 12}})] [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:folder {:name \"Local State\"}, :atom !local, :schema {:show {:label \"show point?\"}, :point {:render (fn [] (:show (clojure.core/deref !local)))}}}]] [nextjournal.clerk.viewer/inspect (clojure.core/deref !local)]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dtBNtije5D9VxUgV63i4ycB4xG9ix\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"cursors-for-state\"} [:<> \"Cursors for State\"]] [:p [:code [:<> \":atom\"]] [:<> \" can take anything atom-like, not just ClojureScript or Reagent atoms.\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"For example, if you want to synchronize a panel with some subset of a larger\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"piece of state, you might pass a \"] [:a {:href \"https://github.com/reagent-project/reagent/blob/master/doc/ManagingState.md#cursors\"} [:<> \"Reagent\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"cursor\"]] [:<> \".\"]] [:p [:<> \"This example renders the current state of a cursor synchronized with a 2D\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"vector input, and the full state of its parent atom below it:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n (reagent/with-let\\n   [!state (reagent/atom\\n            {:more \\\"entries\\\"\\n             :that \\\"you want to ignore\\\"\\n             :gui {:point [1 2]}})\\n    !cursor (reagent/cursor !state [:gui])]\\n   [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n    [leva/SubPanel {:fill true\\n                    :titleBar\\n                    {:drag false}}\\n     [leva/Controls {:atom !cursor}]]\\n    [:pre (str @!cursor)]\\n    [nextjournal.clerk.viewer/inspect @!state]]))\", :nextjournal/opts {:loc {:line 798, :end-line 811, :column 1, :end-column 50}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do (reagent/with-let [!state (reagent/atom {:more \"entries\", :that \"you want to ignore\", :gui {:point [1 2]}}) !cursor (reagent/cursor !state [:gui])] [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:atom !cursor}]] [:pre (str (clojure.core/deref !cursor))] [nextjournal.clerk.viewer/inspect (clojure.core/deref !state)]]))] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5duErcdjXaqRQwbZtF6WLkUmmMnbYf\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"input-ordering\"} [:<> \"Input Ordering\"]] [:p [:<> \"Because ClojureScript's maps aren't ordered, you might find that your panel\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"is showing your inputs in some order other than the one you declared in you\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:code [:<> \":schema\"]] [:<> \" or \"] [:code [:<> \":atom\"]] [:<> \" inputs.\"]] [:p [:<> \"Every input supports an \"] [:code [:<> \":order\"]] [:<> \" key that you can use to provide a number for\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"relative ordering (0 by default).\"]] [:p [:<> \"This example forces the ordering of 3 inputs with \"] [:code [:<> \":order\"]] [:<> \" entries:\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}} {:nextjournal/value \"(show-sci\\n [:div {:style {:width \\\"60%\\\" :margin \\\"auto\\\"}}\\n  [leva/SubPanel {:fill true :titleBar {:drag false}}\\n   [leva/Controls\\n    {:schema\\n     {:x {:value 10\\n          :label \\\"I'm last\\\"\\n          :order 2}\\n      :y {:value 10\\n          :label \\\"I'm first\\\"\\n          :order -1}\\n      :z {:value 10\\n          :label \\\"In the middle\\\"\\n          :order 0}}}]]])\", :nextjournal/opts {:loc {:line 824, :end-line 837, :column 1, :end-column 26}}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code, :hash \"5dsJQw12yyyd7TcZEf52VSHxnqnJUC\"}} {:path [], :nextjournal/value {:nextjournal/presented {:path [], :nextjournal/value {}, :nextjournal/viewer {:render-fn #viewer-fn (clojure.core/fn [___54767__auto__] (clojure.core/let [result__54768__auto__ (do [:div {:style {:width \"60%\", :margin \"auto\"}} [leva/SubPanel {:fill true, :titleBar {:drag false}} [leva/Controls {:schema {:x {:value 10, :label \"I'm last\", :order 2}, :y {:value 10, :label \"I'm first\", :order -1}, :z {:value 10, :label \"In the middle\", :order 0}}}]]])] (nextjournal.clerk.viewer/html (if (clojure.core/vector? result__54768__auto__) result__54768__auto__ [nextjournal.clerk.render/inspect result__54768__auto__])))), :hash \"5dtF9MYBH6ke6o9aKJuVf4wHVfwLYv\"}}}, :nextjournal/opts {:auto-expand-results? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash \"5dtGVHesd2XCTLFYF3aY4kJvkrX1x1\"}} {:nextjournal/value [:div.markdown-viewer [\"h3\" {:id \"resources-from-leva\"} [:<> \"Resources from Leva\"]] [:p [:<> \"Leva is a big library, and the documentation above doesn't come close to\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"covering all possible options and use cases for all input types.\"]] [:p [:<> \"Here are some more resources available about Leva:\"]] [:ul [:li [:<> [:a {:href \"https://leva.pmnd.rs/\"} [:<> \"Storybook\"]]]] [:li [:<> [:a {:href \"https://github.com/pmndrs/leva\"} [:<> \"Github\"]]]]] [\"h4\" {:id \"code-sandboxes\"} [:<> \"Code Sandboxes\"]] [:p [:<> \"These sandboxes provide implementations of more complex panels meant to show\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"off use cases like panel theming, more advanced styling and the different\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"plugins available.\"]] [:ul [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-advanced-panels?file=/src/App.tsx\"} [:<> \"leva-advanced-panels\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-busy?file=/src/App.tsx\"} [:<> \"leva-busy\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-custom-plugin?file=/src/App.tsx\"} [:<> \"leva-custom-plugin\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-minimal?file=/src/App.tsx\"} [:<> \"leva-minimal\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-plugin-bezier?file=/src/App.tsx\"} [:<> \"leva-plugin-bezier\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-plugin-dates?file=/src/App.tsx\"} [:<> \"leva-plugin-dates\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-plugin-plot?file=/src/App.tsx\"} [:<> \"leva-plugin-plot\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-plugin-spring?file=/src/App.tsx\"} [:<> \"leva-plugin-spring\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-scroll?file=/src/App.tsx\"} [:<> \"leva-scroll\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-theme?file=/src/App.tsx\"} [:<> \"leva-theme\"]]]] [:li [:<> [:a {:href \"https://codesandbox.io/s/github/pmndrs/leva/tree/main/demo/src/sandboxes/leva-transient?file=/src/App.tsx\"} [:<> \"leva-transient\"]]]]] [\"h2\" {:id \"who-is-using-leva.cljs?\"} [:<> \"Who is using Leva.cljs?\"]] [:p [:<> \"The following projects use Leva.cljs:\"]] [:ul [:li [:<> [:a {:href \"https://mathbox.mentat.org\"} [:<> \"MathBox.cljs\"]]]]] [:p [:<> \"If you want to show off your use of Leva.cljs, please \"] [:a {:href \"https://github.com/mentat-collective/leva.cljs/issues/new\"} [:<> \"file a\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"ticket\"]] [:<> \" and let us\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"know!\"]] [\"h2\" {:id \"thanks-and-support\"} [:<> \"Thanks and Support\"]] [:p [:<> \"To support this work and my other open source projects, consider sponsoring\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"me via my \"] [:a {:href \"https://github.com/sponsors/sritchie\"} [:<> \"GitHub Sponsors page\"]] [:<> \". Thank\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"you to my current sponsors!\"]] [:p [:<> \"I'm grateful to \"] [:a {:href \"https://www.clojuriststogether.org/\"} [:<> \"Clojurists Together\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"for financial support during this library's creation. Please\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"consider \"] [:a {:href \"https://www.clojuriststogether.org/developers/\"} [:<> \"becoming a member\"]] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"to support this work and projects like it.\"]] [:p [:<> \"For more information on me and my work, visit \"] [:a {:href \"https://samritchie.io\"} [:<> \"https://samritchie.io\"]] [:<> \".\"]] [\"h2\" {:id \"license\"} [:<> \"License\"]] [:p [:<> \"Copyright © 2022-2023 Sam Ritchie.\"]] [:p [:<> \"Distributed under the \"] [:a {:href \"https://github.com/mentat-collective/leva.cljs/blob/main/LICENSE\"} [:<> \"MIT\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"License\"]] [:<> \".\"] [#viewer-eval nextjournal.clerk.render/inspect-presented {:nextjournal/value [:<> \" \"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn identity, :hash \"5du5eveS8XMqMDMYH5rpQ1bqryEJdg\"}}] [:<> \"See \"] [:a {:href \"https://github.com/mentat-collective/leva.cljs/blob/main/LICENSE\"} [:<> \"LICENSE\"]] [:<> \".\"]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer-, :render-fn #viewer-fn identity, :hash \"5du1K91pV2nRmpCG3vM8fBcDsgHWKs\"}}], :css-class nil}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash \"5duAFDxE4sCnRX71Wo6zeCpC9C3djE\"}}}, :cljs-namespaces [leva.sci-extensions], :index \"dev/leva/notebook.clj\", :browse? false, :git/url \"https://github.com/mentat-collective/leva.cljs\", :paths [\"dev/leva/notebook.clj\"], :resource->url {\"/js/viewer.js\" \"_data/8VwFpQ2FrHR6rWJdexVFVYxx7W6vkXfJ71JM4HP96GsR9k1sXTAk99UUppqGb8bVSNtemQwTVMxhJDTDZ3wVr3LDRV.js\"}, :current-path \"dev/leva/notebook.clj\", :bundle? false, :git/sha \"6b9778fe752703929d07c41a64839e40245f3d2f\", :path->url {\"dev/leva/notebook.clj\" \"\"}, :expanded-paths [\"dev/leva/notebook.clj\"], :cname \"leva.mentat.org\", :watch-paths [\"dev\"], :report-fn #object[nextjournal.clerk.builder$stdout_reporter 0x26887e85 \"nextjournal.clerk.builder$stdout_reporter@26887e85\"]}".replaceAll('nextjournal.clerk.view/escape-closing-script-tag', 'script')
let opts = nextjournal.clerk.sci_env.read_string(state)
nextjournal.clerk.static_app.init(opts)
</script></body></html>